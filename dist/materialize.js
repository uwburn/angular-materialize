var scripts=document.getElementsByTagName("script"),currentScriptPath=scripts[scripts.length-1].src;angular.module("materialize",[]).directive("mtzUiRouter",["$rootScope",function(e){return{restrict:"A",link:function(t,n,o){e.$on("$stateChangeSuccess",function(){$(".lean-overlay").remove(),$("html").css("overflow","")})}}}]).directive("mtzRange",[function(){return{restrict:"A",scope:{rangeValue:"=",rangeMin:"=",rangeMax:"="},link:function(e,t,n){var o=0;n.rngZero&&(o=e.rngMin),e.$watch("rngMin",function(){t.attr("min",e.rngMin-o),n.rngZero&&(o=e.rngMin)}),e.$watch("rngMax",function(){t.attr("max",e.rngMax-o)}),e.$watch("rngValue",function(){t.val(e.rngValue-o)}),t.on("change mousemove",function(){e.rngValue=parseInt(t.val())+o})}}}]).directive("mtzSelect",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;return{restrict:"A",link:function(e,n,o){n.material_select();var i=o.ngModel,a=o.ngOptions;if(i&&e.$watch(i,function(){n.material_select()}),a){var r=a.match(t);r&&r[8]&&e.$watch(r[8],function(){n.material_select()})}}}}]).directive("mtzTextarea",[function(){return{restrict:"A",scope:{ngModel:"="},link:function(e,t,n){e.$watch("ngModel",function(){t.trigger("autoresize")})}}}]).directive("mtzModal",[function(){return{restrict:"A",scope:{trigger:"=modalTrigger",ready:"=modalReady",complete:"&modalComplete",watch:"=modalWatch",group:"@modalGroup",options:"=?modalOptions"},link:function(e,t,n){e.options=e.options||{},e.options.objectEquality=e.options.objectEquality||!1;var o=!1;e.$on(t[0].id+":open",function(n,i){o=!0,t.openModal({ready:function(){i&&i.ready&&i.ready(),e.ready&&e.ready()},complete:function(){o=!1,i&&i.complete&&i.complete(),e.complete&&e.complete()}})}),e.$on(t[0].id+":close",function(n,i){t.closeModal({complete:function(){o=!1,i&&i.complete&&i.complete(),e.complete&&e.complete()}})});var i=angular.copy(e.trigger);e.$watch("trigger",function(){if(e.trigger){if(o)return;o=!0,t.openModal({complete:function(){o=!1,e.complete&&e.complete(),e.$apply(function(){e.trigger=i})}})}else{if(!o)return;t.closeModal({complete:function(){o=!1,e.complete&&e.complete(),e.$apply(function(){e.trigger=i})}})}},e.options.objectEquality),e.$watch("watch",function(){void 0!==e.watch&&(void 0!==e.group?$("[modal-group='"+e.mdlGroup+"']").find(".modal-trigger").leanModal():t.find(".modal-trigger").leanModal())},e.options.objectEquality)}}}]).directive("mtzPagination",[function(){function e(e){var t=Math.floor((e.maxPages-1)/2),n=e.page-t,o=e.page+t,i=0;n<0?i=-n:o>=e.pages&&(i=e.pages-o-1),n+=i,o+=i,e.pagesArray=[];for(var a=0;a<e.pages;a++)a>=n&&a<=o&&e.pagesArray.push(a)}return{restrict:"A",templateUrl:currentScriptPath+"/materializePagination.html",scope:{refresh:"=paginationRefresh",pageSize:"=?paginationPageSize",count:"=paginationCount",maxPages:"=?paginationMaxPages",page:"=?paginationPage"},link:function(t,n,o){t.page=0,t.pages=1,t.pagesArray=[1],t.maxPages=t.maxPages||5,t.$watch("count",function(){t.pages=Math.ceil(t.count/t.pageSize),e(t),t.page>t.pages-1&&(t.page=Math.max(t.pages-1,0)),t.refresh(t.page,t.pageSize)})},controller:function(t){t.prevPage=function(){t.page<=0||(--t.page,e(t),t.refresh(t.page,t.pageSize))},t.nextPage=function(){t.page>=t.pages-1||(++t.page,e(t),t.refresh(t.page,t.pageSize))},t.gotoPage=function(n){t.page=n,e(t),t.refresh(t.page,t.pageSize)}}}}]).directive("mtzDatePicker",["$locale",function(e){function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}return{restrict:"A",scope:{date:"=datePickerDate",format:"@datePickerFormat",options:"=?datePickerOptions"},link:function(n,o,i){n.options=n.options||{};for(var a=e.DATETIME_FORMATS[n.format],r=0;r<a.length;r++)a=a.replace("M","m");var c=!1;for(n.options.format=a,n.options.onSet=function(e){c||e.select&&(n.date instanceof Date?n.date=new Date(e.select):n.date=e.select)},n.options.monthsFull=[],r=0;r<e.DATETIME_FORMATS.MONTH.length;r++)n.options.monthsFull[r]=t(e.DATETIME_FORMATS.MONTH[r]);for(n.options.monthsShort=[],r=0;r<e.DATETIME_FORMATS.SHORTMONTH.length;r++)n.options.monthsShort[r]=t(e.DATETIME_FORMATS.SHORTMONTH[r]);for(n.options.weekdaysFull=[],r=0;r<e.DATETIME_FORMATS.DAY.length;r++)n.options.weekdaysFull[r]=t(e.DATETIME_FORMATS.DAY[r]);for(n.options.weekdaysShort=[],r=0;r<e.DATETIME_FORMATS.SHORTDAY.length;r++)n.options.weekdaysShort[r]=t(e.DATETIME_FORMATS.SHORTDAY[r]);n.options.onClose=function(){$(document.activeElement).blur()};var l=o.pickadate(n.options).pickadate("picker");n.$watch("date",function(){c=!0,l.set("select",n.date),c=!1})}}}]).directive("mtzToast",["$interpolate","$timeout",function(e,t){return{restrict:"A",scope:{duration:"@toastDuration",delay:"@toastDelay"},link:function(n,o,i){function a(){t(function(){if(0===l.length)return void(c=!0);var t=l.shift(),o=e(r)(t);Materialize.toast(o,n.duration),a()},n.delay)}n.duration=n.duration||5e3,n.delay=n.delay||500;var r=o.html();o.html("");var c=!0,l=[];n.$on(o[0].id+":alert",function(e,t){c?(c=!1,l.push(t),a()):l.push(t)})}}}]).directive("mtzLoader",["$timeout",function(e){return{restrict:"A",scope:{inDelay:"@loaderInDelay",outDelay:"@loaderOutDelay"},template:'<div data-ng-if="count > 0" class="progress"><div class="indeterminate"></div></div>',link:function(t,n,o){t.inDelay=void 0===t.inDelay?100:t.inDelay,t.outDelay=void 0===t.outDelay?1e3:t.outDelay,t.count=0;var i,a={};t.$on(o.id+":show",function(n,o){var r={ringed:!1};r.promise=e(function(){r.ringed=!0,t.count++},t.inDelay),void 0===o||null===o?i=r:a[o]=r}),t.$on(o.id+":hide",function(n,o){var r;void 0===o||null===o?r=i:(r=a[o],delete a[o]),e.cancel(r.promise),r.ringed&&e(function(){t.count--,t.count<0&&(t.count=0)},t.outDelay)}),t.$on(o.id+":clear",function(n){e.cancel(i);for(var o in Object.keys(a))e.cancel(a[o]),delete a[o];e(function(){t.count=0},t.outDelay)})}}}]).directive("mtzSideNav",[function(){return{restrict:"A",scope:{closeOnClick:"@sideNavCloseOnClick"},link:function(e,t,n){t.sideNav({closeOnClick:void 0!==e.closeOnClick})}}}]).directive("mtzDropdown",[function(){return{restrict:"A",link:function(e,t,n){t.dropdown()}}}]).directive("mtzCollapsible",[function(){return{restrict:"A",link:function(e,t,n){t.collapsible()}}}]).directive("mtzTabs",[function(){return{restrict:"A",link:function(e,t,n){t.tabs()}}}]).directive("mtzLeanModal",[function(){return{restrict:"A",link:function(e,t,n){t.leanModal()}}}]).directive("mtzAutocomplete",["$timeout",function(e){return{restrict:"A",scope:{autocompleteData:"=mtzAutocomplete"},require:"?ngModel",link:function(t,n,o,i){var a={};i&&n.on("keyup",function(){var t=n.nextAll("ul.autocomplete-content");setTimeout(function(){var o=t.find("li");o.on("click",function(){e(function(){i.$setViewValue(n.val(),"autocomplete")})})})}),t.$watchCollection("autocompleteData",function(e){var t={};if(e instanceof Array)for(var o in e)void 0===a[e[o]]&&(t[e[o]]=null,a[e[o]]=null);else for(var i in Object.keys(e))void 0===a[i]&&(t[i]=e[i],a[i]=e[i]);n.autocomplete({data:t})})}}}]).directive("mtzInfiniteScroll",["$timeout","$window",function(e,t){return{scope:{handler:"&mtzInfiniteScroll",scrollThreshold:"@scrollThreshold",timeThreshold:"@timeThreshold"},link:function(n,o,i){function a(t){var o=t.scrollHeight-(t.clientHeight+t.scrollTop);o<n.scrollThreshold&&o-l<0&&(null!==c&&e.cancel(c),c=e(function(){n.handler(),c=null},n.timeThreshold)),l=o}n.scrollThreshold=parseInt(n.scrollThreshold||50),n.timeThreshold=parseInt(n.timeThreshold||400);var r=void 0!==i.windowScroll,c=null,l=9999;o.bind("scroll",function(){a(o[0])}),r&&t.addEventListener("scroll",function(){a(document.body)})}}}]).directive("mtzLoginForm",["$timeout",function(e){return{restrict:"A",scope:{eventName:"@eventName",restoreDelay:"@restoreDelay"},link:function(t,n,o){t.restoreDelay=t.restoreDelay||100,t.$on(t.eventName,function(o){n.hide(),e(function(){n.show()},t.restoreDelay)})}}}]).directive("mtzHourPicker",["$timeout",function(e){return{restrict:"A",templateUrl:currentScriptPath+"/materializeHourPicker.html",scope:{date:"=hourPickerDate",selectId:"@hourPickerId"},link:function(t,n,o){e(function(){var e=$("#"+t.selectId);e.material_select(),t.$watch("date",function(){if(t.date){if(t.date instanceof Date)e.val(t.date.getHours());else{var n=new Date(t.date);e.val(n.getHours())}e.material_select()}}),e.change(function(){if(t.date instanceof Date)t.date.setHours(e.val());else{var n=new Date(t.date);n.setHours(e.val()),t.date=n.getTime()}})})}}}]).directive("mtzMinutePicker",["$timeout",function(e){function t(e,t){return t-t%e}return{restrict:"A",templateUrl:currentScriptPath+"materializeMinutePicker.html",scope:{date:"=minutePickerDate",selectId:"@minutePickerId",options:"=minutePickerOptions"},link:function(n,o,i){n.options=n.options||{},n.options.base=n.options.base||5,e(function(){var e=$("#"+n.selectId);e.material_select(),n.$watch("date",function(){if(n.date){if(n.date instanceof Date)e.val(t(n.options.base,n.date.getMinutes()));else{var o=new Date(n.date);e.val(t(n.options.base,o.getMinutes()))}e.material_select()}}),e.change(function(){if(n.date instanceof Date)n.date.setMinutes(e.val());else{var t=new Date(n.date);t.setMinutes(e.val()),n.date=t.getTime()}})})}}}]);